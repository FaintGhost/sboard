// This file is auto-generated by @hey-api/openapi-ts

import * as z from "zod";

export const zError = z.object({
  error: z.string(),
});

export const zStatusOk = z.object({
  status: z.string(),
});

export const zUser = z.object({
  id: z.coerce
    .bigint()
    .min(BigInt("-9223372036854775808"), {
      error: "Invalid value: Expected int64 to be >= -9223372036854775808",
    })
    .max(BigInt("9223372036854775807"), {
      error: "Invalid value: Expected int64 to be <= 9223372036854775807",
    }),
  uuid: z.string(),
  username: z.string(),
  group_ids: z.array(
    z.coerce
      .bigint()
      .min(BigInt("-9223372036854775808"), {
        error: "Invalid value: Expected int64 to be >= -9223372036854775808",
      })
      .max(BigInt("9223372036854775807"), {
        error: "Invalid value: Expected int64 to be <= 9223372036854775807",
      }),
  ),
  traffic_limit: z.coerce
    .bigint()
    .min(BigInt("-9223372036854775808"), {
      error: "Invalid value: Expected int64 to be >= -9223372036854775808",
    })
    .max(BigInt("9223372036854775807"), {
      error: "Invalid value: Expected int64 to be <= 9223372036854775807",
    }),
  traffic_used: z.coerce
    .bigint()
    .min(BigInt("-9223372036854775808"), {
      error: "Invalid value: Expected int64 to be >= -9223372036854775808",
    })
    .max(BigInt("9223372036854775807"), {
      error: "Invalid value: Expected int64 to be <= 9223372036854775807",
    }),
  traffic_reset_day: z.int(),
  expire_at: z.union([z.iso.datetime(), z.null()]),
  status: z.string(),
});

export const zNode = z.object({
  id: z.coerce
    .bigint()
    .min(BigInt("-9223372036854775808"), {
      error: "Invalid value: Expected int64 to be >= -9223372036854775808",
    })
    .max(BigInt("9223372036854775807"), {
      error: "Invalid value: Expected int64 to be <= 9223372036854775807",
    }),
  uuid: z.string(),
  name: z.string(),
  api_address: z.string(),
  api_port: z.int(),
  secret_key: z.string(),
  public_address: z.string(),
  group_id: z.union([
    z.coerce
      .bigint()
      .min(BigInt("-9223372036854775808"), {
        error: "Invalid value: Expected int64 to be >= -9223372036854775808",
      })
      .max(BigInt("9223372036854775807"), {
        error: "Invalid value: Expected int64 to be <= 9223372036854775807",
      }),
    z.null(),
  ]),
  status: z.string(),
  last_seen_at: z.union([z.iso.datetime(), z.null()]),
});

export const zGroup = z.object({
  id: z.coerce
    .bigint()
    .min(BigInt("-9223372036854775808"), {
      error: "Invalid value: Expected int64 to be >= -9223372036854775808",
    })
    .max(BigInt("9223372036854775807"), {
      error: "Invalid value: Expected int64 to be <= 9223372036854775807",
    }),
  name: z.string(),
  description: z.string(),
  member_count: z.coerce
    .bigint()
    .min(BigInt("-9223372036854775808"), {
      error: "Invalid value: Expected int64 to be >= -9223372036854775808",
    })
    .max(BigInt("9223372036854775807"), {
      error: "Invalid value: Expected int64 to be <= 9223372036854775807",
    }),
});

export const zInbound = z.object({
  id: z.coerce
    .bigint()
    .min(BigInt("-9223372036854775808"), {
      error: "Invalid value: Expected int64 to be >= -9223372036854775808",
    })
    .max(BigInt("9223372036854775807"), {
      error: "Invalid value: Expected int64 to be <= 9223372036854775807",
    }),
  uuid: z.string(),
  tag: z.string(),
  node_id: z.coerce
    .bigint()
    .min(BigInt("-9223372036854775808"), {
      error: "Invalid value: Expected int64 to be >= -9223372036854775808",
    })
    .max(BigInt("9223372036854775807"), {
      error: "Invalid value: Expected int64 to be <= 9223372036854775807",
    }),
  protocol: z.string(),
  listen_port: z.int(),
  public_port: z.int(),
  settings: z.record(z.string(), z.unknown()),
  tls_settings: z.record(z.string(), z.unknown()),
  transport_settings: z.record(z.string(), z.unknown()),
});

export const zSyncResult = z.object({
  status: z.string(),
  error: z.optional(z.string()),
});

export const zSyncJobListItem = z.object({
  id: z.coerce
    .bigint()
    .min(BigInt("-9223372036854775808"), {
      error: "Invalid value: Expected int64 to be >= -9223372036854775808",
    })
    .max(BigInt("9223372036854775807"), {
      error: "Invalid value: Expected int64 to be <= 9223372036854775807",
    }),
  node_id: z.coerce
    .bigint()
    .min(BigInt("-9223372036854775808"), {
      error: "Invalid value: Expected int64 to be >= -9223372036854775808",
    })
    .max(BigInt("9223372036854775807"), {
      error: "Invalid value: Expected int64 to be <= 9223372036854775807",
    }),
  parent_job_id: z.optional(
    z.union([
      z.coerce
        .bigint()
        .min(BigInt("-9223372036854775808"), {
          error: "Invalid value: Expected int64 to be >= -9223372036854775808",
        })
        .max(BigInt("9223372036854775807"), {
          error: "Invalid value: Expected int64 to be <= 9223372036854775807",
        }),
      z.null(),
    ]),
  ),
  trigger_source: z.string(),
  status: z.string(),
  inbound_count: z.int(),
  active_user_count: z.int(),
  payload_hash: z.string(),
  attempt_count: z.int(),
  duration_ms: z.coerce
    .bigint()
    .min(BigInt("-9223372036854775808"), {
      error: "Invalid value: Expected int64 to be >= -9223372036854775808",
    })
    .max(BigInt("9223372036854775807"), {
      error: "Invalid value: Expected int64 to be <= 9223372036854775807",
    }),
  error_summary: z.string(),
  created_at: z.iso.datetime(),
  started_at: z.optional(z.union([z.iso.datetime(), z.null()])),
  finished_at: z.optional(z.union([z.iso.datetime(), z.null()])),
});

export const zSyncAttempt = z.object({
  id: z.coerce
    .bigint()
    .min(BigInt("-9223372036854775808"), {
      error: "Invalid value: Expected int64 to be >= -9223372036854775808",
    })
    .max(BigInt("9223372036854775807"), {
      error: "Invalid value: Expected int64 to be <= 9223372036854775807",
    }),
  attempt_no: z.int(),
  status: z.string(),
  http_status: z.int(),
  duration_ms: z.coerce
    .bigint()
    .min(BigInt("-9223372036854775808"), {
      error: "Invalid value: Expected int64 to be >= -9223372036854775808",
    })
    .max(BigInt("9223372036854775807"), {
      error: "Invalid value: Expected int64 to be <= 9223372036854775807",
    }),
  error_summary: z.string(),
  backoff_ms: z.coerce
    .bigint()
    .min(BigInt("-9223372036854775808"), {
      error: "Invalid value: Expected int64 to be >= -9223372036854775808",
    })
    .max(BigInt("9223372036854775807"), {
      error: "Invalid value: Expected int64 to be <= 9223372036854775807",
    }),
  started_at: z.iso.datetime(),
  finished_at: z.optional(z.union([z.iso.datetime(), z.null()])),
});

export const zSyncJobDetail = z.object({
  job: zSyncJobListItem,
  attempts: z.array(zSyncAttempt),
});

export const zGroupUsersListItem = z.object({
  id: z.coerce
    .bigint()
    .min(BigInt("-9223372036854775808"), {
      error: "Invalid value: Expected int64 to be >= -9223372036854775808",
    })
    .max(BigInt("9223372036854775807"), {
      error: "Invalid value: Expected int64 to be <= 9223372036854775807",
    }),
  uuid: z.string(),
  username: z.string(),
  traffic_limit: z.coerce
    .bigint()
    .min(BigInt("-9223372036854775808"), {
      error: "Invalid value: Expected int64 to be >= -9223372036854775808",
    })
    .max(BigInt("9223372036854775807"), {
      error: "Invalid value: Expected int64 to be <= 9223372036854775807",
    }),
  traffic_used: z.coerce
    .bigint()
    .min(BigInt("-9223372036854775808"), {
      error: "Invalid value: Expected int64 to be >= -9223372036854775808",
    })
    .max(BigInt("9223372036854775807"), {
      error: "Invalid value: Expected int64 to be <= 9223372036854775807",
    }),
  status: z.string(),
});

export const zAdminProfile = z.object({
  username: z.string(),
});

export const zLoginResponse = z.object({
  token: z.string(),
  expires_at: z.string(),
});

export const zBootstrapStatus = z.object({
  needs_setup: z.boolean(),
});

export const zBootstrapResponse = z.object({
  ok: z.boolean(),
});

export const zSystemInfo = z.object({
  panel_version: z.string(),
  panel_commit_id: z.string(),
  sing_box_version: z.string(),
});

export const zSystemSettings = z.object({
  subscription_base_url: z.string(),
  timezone: z.string(),
});

export const zTrafficNodeSummary = z.object({
  node_id: z.coerce
    .bigint()
    .min(BigInt("-9223372036854775808"), {
      error: "Invalid value: Expected int64 to be >= -9223372036854775808",
    })
    .max(BigInt("9223372036854775807"), {
      error: "Invalid value: Expected int64 to be <= 9223372036854775807",
    }),
  upload: z.coerce
    .bigint()
    .min(BigInt("-9223372036854775808"), {
      error: "Invalid value: Expected int64 to be >= -9223372036854775808",
    })
    .max(BigInt("9223372036854775807"), {
      error: "Invalid value: Expected int64 to be <= 9223372036854775807",
    }),
  download: z.coerce
    .bigint()
    .min(BigInt("-9223372036854775808"), {
      error: "Invalid value: Expected int64 to be >= -9223372036854775808",
    })
    .max(BigInt("9223372036854775807"), {
      error: "Invalid value: Expected int64 to be <= 9223372036854775807",
    }),
  last_recorded_at: z.string(),
  samples: z.coerce
    .bigint()
    .min(BigInt("-9223372036854775808"), {
      error: "Invalid value: Expected int64 to be >= -9223372036854775808",
    })
    .max(BigInt("9223372036854775807"), {
      error: "Invalid value: Expected int64 to be <= 9223372036854775807",
    }),
  inbounds: z.coerce
    .bigint()
    .min(BigInt("-9223372036854775808"), {
      error: "Invalid value: Expected int64 to be >= -9223372036854775808",
    })
    .max(BigInt("9223372036854775807"), {
      error: "Invalid value: Expected int64 to be <= 9223372036854775807",
    }),
});

export const zTrafficTotalSummary = z.object({
  upload: z.coerce
    .bigint()
    .min(BigInt("-9223372036854775808"), {
      error: "Invalid value: Expected int64 to be >= -9223372036854775808",
    })
    .max(BigInt("9223372036854775807"), {
      error: "Invalid value: Expected int64 to be <= 9223372036854775807",
    }),
  download: z.coerce
    .bigint()
    .min(BigInt("-9223372036854775808"), {
      error: "Invalid value: Expected int64 to be >= -9223372036854775808",
    })
    .max(BigInt("9223372036854775807"), {
      error: "Invalid value: Expected int64 to be <= 9223372036854775807",
    }),
  last_recorded_at: z.string(),
  samples: z.coerce
    .bigint()
    .min(BigInt("-9223372036854775808"), {
      error: "Invalid value: Expected int64 to be >= -9223372036854775808",
    })
    .max(BigInt("9223372036854775807"), {
      error: "Invalid value: Expected int64 to be <= 9223372036854775807",
    }),
  nodes: z.coerce
    .bigint()
    .min(BigInt("-9223372036854775808"), {
      error: "Invalid value: Expected int64 to be >= -9223372036854775808",
    })
    .max(BigInt("9223372036854775807"), {
      error: "Invalid value: Expected int64 to be <= 9223372036854775807",
    }),
  inbounds: z.coerce
    .bigint()
    .min(BigInt("-9223372036854775808"), {
      error: "Invalid value: Expected int64 to be >= -9223372036854775808",
    })
    .max(BigInt("9223372036854775807"), {
      error: "Invalid value: Expected int64 to be <= 9223372036854775807",
    }),
});

export const zTrafficTimeseriesPoint = z.object({
  bucket_start: z.string(),
  upload: z.coerce
    .bigint()
    .min(BigInt("-9223372036854775808"), {
      error: "Invalid value: Expected int64 to be >= -9223372036854775808",
    })
    .max(BigInt("9223372036854775807"), {
      error: "Invalid value: Expected int64 to be <= 9223372036854775807",
    }),
  download: z.coerce
    .bigint()
    .min(BigInt("-9223372036854775808"), {
      error: "Invalid value: Expected int64 to be >= -9223372036854775808",
    })
    .max(BigInt("9223372036854775807"), {
      error: "Invalid value: Expected int64 to be <= 9223372036854775807",
    }),
});

export const zNodeTrafficSample = z.object({
  id: z.coerce
    .bigint()
    .min(BigInt("-9223372036854775808"), {
      error: "Invalid value: Expected int64 to be >= -9223372036854775808",
    })
    .max(BigInt("9223372036854775807"), {
      error: "Invalid value: Expected int64 to be <= 9223372036854775807",
    }),
  inbound_tag: z.union([z.string(), z.null()]),
  upload: z.coerce
    .bigint()
    .min(BigInt("-9223372036854775808"), {
      error: "Invalid value: Expected int64 to be >= -9223372036854775808",
    })
    .max(BigInt("9223372036854775807"), {
      error: "Invalid value: Expected int64 to be <= 9223372036854775807",
    }),
  download: z.coerce
    .bigint()
    .min(BigInt("-9223372036854775808"), {
      error: "Invalid value: Expected int64 to be >= -9223372036854775808",
    })
    .max(BigInt("9223372036854775807"), {
      error: "Invalid value: Expected int64 to be <= 9223372036854775807",
    }),
  recorded_at: z.string(),
});

export const zCreateUserRequest = z.object({
  username: z.string(),
});

export const zUpdateUserRequest = z.object({
  username: z.optional(z.string()),
  status: z.optional(z.string()),
  expire_at: z.optional(z.string()),
  traffic_limit: z.optional(
    z.coerce
      .bigint()
      .min(BigInt("-9223372036854775808"), {
        error: "Invalid value: Expected int64 to be >= -9223372036854775808",
      })
      .max(BigInt("9223372036854775807"), {
        error: "Invalid value: Expected int64 to be <= 9223372036854775807",
      }),
  ),
  traffic_reset_day: z.optional(z.int()),
});

export const zCreateNodeRequest = z.object({
  name: z.string(),
  api_address: z.string(),
  api_port: z.int(),
  secret_key: z.string(),
  public_address: z.string(),
  group_id: z.optional(
    z.union([
      z.coerce
        .bigint()
        .min(BigInt("-9223372036854775808"), {
          error: "Invalid value: Expected int64 to be >= -9223372036854775808",
        })
        .max(BigInt("9223372036854775807"), {
          error: "Invalid value: Expected int64 to be <= 9223372036854775807",
        }),
      z.null(),
    ]),
  ),
});

export const zUpdateNodeRequest = z.object({
  name: z.optional(z.string()),
  api_address: z.optional(z.string()),
  api_port: z.optional(z.int()),
  secret_key: z.optional(z.string()),
  public_address: z.optional(z.string()),
  group_id: z.optional(
    z.union([
      z.coerce
        .bigint()
        .min(BigInt("-9223372036854775808"), {
          error: "Invalid value: Expected int64 to be >= -9223372036854775808",
        })
        .max(BigInt("9223372036854775807"), {
          error: "Invalid value: Expected int64 to be <= 9223372036854775807",
        }),
      z.null(),
    ]),
  ),
});

export const zCreateGroupRequest = z.object({
  name: z.string(),
  description: z.optional(z.string()),
});

export const zUpdateGroupRequest = z.object({
  name: z.optional(z.string()),
  description: z.optional(z.string()),
});

export const zCreateInboundRequest = z.object({
  tag: z.string(),
  node_id: z.coerce
    .bigint()
    .min(BigInt("-9223372036854775808"), {
      error: "Invalid value: Expected int64 to be >= -9223372036854775808",
    })
    .max(BigInt("9223372036854775807"), {
      error: "Invalid value: Expected int64 to be <= 9223372036854775807",
    }),
  protocol: z.string(),
  listen_port: z.int(),
  public_port: z.optional(z.int()),
  settings: z.record(z.string(), z.unknown()),
  tls_settings: z.optional(z.record(z.string(), z.unknown())),
  transport_settings: z.optional(z.record(z.string(), z.unknown())),
});

export const zUpdateInboundRequest = z.object({
  tag: z.optional(z.string()),
  protocol: z.optional(z.string()),
  listen_port: z.optional(z.int()),
  public_port: z.optional(z.int()),
  settings: z.optional(z.record(z.string(), z.unknown())),
  tls_settings: z.optional(z.record(z.string(), z.unknown())),
  transport_settings: z.optional(z.record(z.string(), z.unknown())),
});

export const zLoginRequest = z.object({
  username: z.string(),
  password: z.string(),
});

export const zBootstrapRequest = z.object({
  username: z.string(),
  password: z.string(),
  confirm_password: z.string(),
  setup_token: z.optional(z.string()),
});

export const zUpdateAdminProfileRequest = z.object({
  new_username: z.optional(z.string()),
  old_password: z.string(),
  new_password: z.optional(z.string()),
  confirm_password: z.optional(z.string()),
});

export const zUpdateSystemSettingsRequest = z.object({
  subscription_base_url: z.optional(z.string()),
  timezone: z.optional(z.string()),
});

export const zUserGroupsRequest = z.object({
  group_ids: z.array(
    z.coerce
      .bigint()
      .min(BigInt("-9223372036854775808"), {
        error: "Invalid value: Expected int64 to be >= -9223372036854775808",
      })
      .max(BigInt("9223372036854775807"), {
        error: "Invalid value: Expected int64 to be <= 9223372036854775807",
      }),
  ),
});

export const zGroupUsersReplaceRequest = z.object({
  user_ids: z.array(
    z.coerce
      .bigint()
      .min(BigInt("-9223372036854775808"), {
        error: "Invalid value: Expected int64 to be >= -9223372036854775808",
      })
      .max(BigInt("9223372036854775807"), {
        error: "Invalid value: Expected int64 to be <= 9223372036854775807",
      }),
  ),
});

export const zSingBoxConfigRequest = z.object({
  config: z.string(),
  mode: z.optional(z.string()),
});

export const zSingBoxGenerateRequest = z.object({
  command: z.string(),
});

export const zLimitParam = z.int().gte(0).lte(500).default(50);

export const zOffsetParam = z.int().gte(0).default(0);

export const zIdPath = z.coerce
  .bigint()
  .min(BigInt("-9223372036854775808"), {
    error: "Invalid value: Expected int64 to be >= -9223372036854775808",
  })
  .max(BigInt("9223372036854775807"), {
    error: "Invalid value: Expected int64 to be <= 9223372036854775807",
  });

export const zGetHealthData = z.object({
  body: z.optional(z.never()),
  path: z.optional(z.never()),
  query: z.optional(z.never()),
});

/**
 * OK
 */
export const zGetHealthResponse = zStatusOk;

export const zGetBootstrapStatusData = z.object({
  body: z.optional(z.never()),
  path: z.optional(z.never()),
  query: z.optional(z.never()),
});

/**
 * Bootstrap status
 */
export const zGetBootstrapStatusResponse = z.object({
  data: zBootstrapStatus,
});

export const zBootstrapData = z.object({
  body: zBootstrapRequest,
  path: z.optional(z.never()),
  query: z.optional(z.never()),
  headers: z.optional(
    z.object({
      "X-Setup-Token": z.optional(z.string()),
    }),
  ),
});

/**
 * Admin created
 */
export const zBootstrapResponse2 = z.object({
  data: zBootstrapResponse,
});

export const zLoginData = z.object({
  body: zLoginRequest,
  path: z.optional(z.never()),
  query: z.optional(z.never()),
});

/**
 * Login successful
 */
export const zLoginResponse2 = z.object({
  data: zLoginResponse,
});

export const zGetAdminProfileData = z.object({
  body: z.optional(z.never()),
  path: z.optional(z.never()),
  query: z.optional(z.never()),
});

/**
 * Admin profile
 */
export const zGetAdminProfileResponse = z.object({
  data: zAdminProfile,
});

export const zUpdateAdminProfileData = z.object({
  body: zUpdateAdminProfileRequest,
  path: z.optional(z.never()),
  query: z.optional(z.never()),
});

/**
 * Updated admin profile
 */
export const zUpdateAdminProfileResponse = z.object({
  data: zAdminProfile,
});

export const zGetSubscriptionData = z.object({
  body: z.optional(z.never()),
  path: z.object({
    user_uuid: z.string(),
  }),
  query: z.optional(
    z.object({
      format: z.optional(z.enum(["singbox", "v2ray"])),
    }),
  ),
});

/**
 * sing-box configuration
 */
export const zGetSubscriptionResponse = z.record(z.string(), z.unknown());

export const zListUsersData = z.object({
  body: z.optional(z.never()),
  path: z.optional(z.never()),
  query: z.optional(
    z.object({
      limit: z.optional(z.int().gte(0).lte(500)).default(50),
      offset: z.optional(z.int().gte(0)).default(0),
      status: z.optional(z.enum(["active", "disabled", "expired", "traffic_exceeded"])),
    }),
  ),
});

/**
 * User list
 */
export const zListUsersResponse = z.object({
  data: z.array(zUser),
});

export const zCreateUserData = z.object({
  body: zCreateUserRequest,
  path: z.optional(z.never()),
  query: z.optional(z.never()),
});

/**
 * User created
 */
export const zCreateUserResponse = z.object({
  data: zUser,
});

export const zDeleteUserData = z.object({
  body: z.optional(z.never()),
  path: z.object({
    id: z.coerce
      .bigint()
      .min(BigInt("-9223372036854775808"), {
        error: "Invalid value: Expected int64 to be >= -9223372036854775808",
      })
      .max(BigInt("9223372036854775807"), {
        error: "Invalid value: Expected int64 to be <= 9223372036854775807",
      }),
  }),
  query: z.optional(
    z.object({
      hard: z.optional(z.enum(["true"])),
    }),
  ),
});

/**
 * User deleted or disabled
 */
export const zDeleteUserResponse = z.object({
  data: z.optional(zUser),
  message: z.optional(z.string()),
});

export const zGetUserData = z.object({
  body: z.optional(z.never()),
  path: z.object({
    id: z.coerce
      .bigint()
      .min(BigInt("-9223372036854775808"), {
        error: "Invalid value: Expected int64 to be >= -9223372036854775808",
      })
      .max(BigInt("9223372036854775807"), {
        error: "Invalid value: Expected int64 to be <= 9223372036854775807",
      }),
  }),
  query: z.optional(z.never()),
});

/**
 * User detail
 */
export const zGetUserResponse = z.object({
  data: zUser,
});

export const zUpdateUserData = z.object({
  body: zUpdateUserRequest,
  path: z.object({
    id: z.coerce
      .bigint()
      .min(BigInt("-9223372036854775808"), {
        error: "Invalid value: Expected int64 to be >= -9223372036854775808",
      })
      .max(BigInt("9223372036854775807"), {
        error: "Invalid value: Expected int64 to be <= 9223372036854775807",
      }),
  }),
  query: z.optional(z.never()),
});

/**
 * Updated user
 */
export const zUpdateUserResponse = z.object({
  data: zUser,
});

export const zGetUserGroupsData = z.object({
  body: z.optional(z.never()),
  path: z.object({
    id: z.coerce
      .bigint()
      .min(BigInt("-9223372036854775808"), {
        error: "Invalid value: Expected int64 to be >= -9223372036854775808",
      })
      .max(BigInt("9223372036854775807"), {
        error: "Invalid value: Expected int64 to be <= 9223372036854775807",
      }),
  }),
  query: z.optional(z.never()),
});

/**
 * User's group IDs
 */
export const zGetUserGroupsResponse = z.object({
  data: z.object({
    group_ids: z.array(
      z.coerce
        .bigint()
        .min(BigInt("-9223372036854775808"), {
          error: "Invalid value: Expected int64 to be >= -9223372036854775808",
        })
        .max(BigInt("9223372036854775807"), {
          error: "Invalid value: Expected int64 to be <= 9223372036854775807",
        }),
    ),
  }),
});

export const zReplaceUserGroupsData = z.object({
  body: zUserGroupsRequest,
  path: z.object({
    id: z.coerce
      .bigint()
      .min(BigInt("-9223372036854775808"), {
        error: "Invalid value: Expected int64 to be >= -9223372036854775808",
      })
      .max(BigInt("9223372036854775807"), {
        error: "Invalid value: Expected int64 to be <= 9223372036854775807",
      }),
  }),
  query: z.optional(z.never()),
});

/**
 * Updated user groups
 */
export const zReplaceUserGroupsResponse = z.object({
  data: z.object({
    group_ids: z.array(
      z.coerce
        .bigint()
        .min(BigInt("-9223372036854775808"), {
          error: "Invalid value: Expected int64 to be >= -9223372036854775808",
        })
        .max(BigInt("9223372036854775807"), {
          error: "Invalid value: Expected int64 to be <= 9223372036854775807",
        }),
    ),
  }),
});

export const zListGroupsData = z.object({
  body: z.optional(z.never()),
  path: z.optional(z.never()),
  query: z.optional(
    z.object({
      limit: z.optional(z.int().gte(0).lte(500)).default(50),
      offset: z.optional(z.int().gte(0)).default(0),
    }),
  ),
});

/**
 * Group list
 */
export const zListGroupsResponse = z.object({
  data: z.array(zGroup),
});

export const zCreateGroupData = z.object({
  body: zCreateGroupRequest,
  path: z.optional(z.never()),
  query: z.optional(z.never()),
});

/**
 * Group created
 */
export const zCreateGroupResponse = z.object({
  data: zGroup,
});

export const zDeleteGroupData = z.object({
  body: z.optional(z.never()),
  path: z.object({
    id: z.coerce
      .bigint()
      .min(BigInt("-9223372036854775808"), {
        error: "Invalid value: Expected int64 to be >= -9223372036854775808",
      })
      .max(BigInt("9223372036854775807"), {
        error: "Invalid value: Expected int64 to be <= 9223372036854775807",
      }),
  }),
  query: z.optional(z.never()),
});

/**
 * Group deleted
 */
export const zDeleteGroupResponse = zStatusOk;

export const zGetGroupData = z.object({
  body: z.optional(z.never()),
  path: z.object({
    id: z.coerce
      .bigint()
      .min(BigInt("-9223372036854775808"), {
        error: "Invalid value: Expected int64 to be >= -9223372036854775808",
      })
      .max(BigInt("9223372036854775807"), {
        error: "Invalid value: Expected int64 to be <= 9223372036854775807",
      }),
  }),
  query: z.optional(z.never()),
});

/**
 * Group detail
 */
export const zGetGroupResponse = z.object({
  data: zGroup,
});

export const zUpdateGroupData = z.object({
  body: zUpdateGroupRequest,
  path: z.object({
    id: z.coerce
      .bigint()
      .min(BigInt("-9223372036854775808"), {
        error: "Invalid value: Expected int64 to be >= -9223372036854775808",
      })
      .max(BigInt("9223372036854775807"), {
        error: "Invalid value: Expected int64 to be <= 9223372036854775807",
      }),
  }),
  query: z.optional(z.never()),
});

/**
 * Updated group
 */
export const zUpdateGroupResponse = z.object({
  data: zGroup,
});

export const zListGroupUsersData = z.object({
  body: z.optional(z.never()),
  path: z.object({
    id: z.coerce
      .bigint()
      .min(BigInt("-9223372036854775808"), {
        error: "Invalid value: Expected int64 to be >= -9223372036854775808",
      })
      .max(BigInt("9223372036854775807"), {
        error: "Invalid value: Expected int64 to be <= 9223372036854775807",
      }),
  }),
  query: z.optional(z.never()),
});

/**
 * Group users
 */
export const zListGroupUsersResponse = z.object({
  data: z.array(zGroupUsersListItem),
});

export const zReplaceGroupUsersData = z.object({
  body: zGroupUsersReplaceRequest,
  path: z.object({
    id: z.coerce
      .bigint()
      .min(BigInt("-9223372036854775808"), {
        error: "Invalid value: Expected int64 to be >= -9223372036854775808",
      })
      .max(BigInt("9223372036854775807"), {
        error: "Invalid value: Expected int64 to be <= 9223372036854775807",
      }),
  }),
  query: z.optional(z.never()),
});

/**
 * Updated group users
 */
export const zReplaceGroupUsersResponse = z.object({
  data: z.object({
    user_ids: z.array(
      z.coerce
        .bigint()
        .min(BigInt("-9223372036854775808"), {
          error: "Invalid value: Expected int64 to be >= -9223372036854775808",
        })
        .max(BigInt("9223372036854775807"), {
          error: "Invalid value: Expected int64 to be <= 9223372036854775807",
        }),
    ),
  }),
});

export const zListNodesData = z.object({
  body: z.optional(z.never()),
  path: z.optional(z.never()),
  query: z.optional(
    z.object({
      limit: z.optional(z.int().gte(0).lte(500)).default(50),
      offset: z.optional(z.int().gte(0)).default(0),
    }),
  ),
});

/**
 * Node list
 */
export const zListNodesResponse = z.object({
  data: z.array(zNode),
});

export const zCreateNodeData = z.object({
  body: zCreateNodeRequest,
  path: z.optional(z.never()),
  query: z.optional(z.never()),
});

/**
 * Node created
 */
export const zCreateNodeResponse = z.object({
  data: zNode,
});

export const zDeleteNodeData = z.object({
  body: z.optional(z.never()),
  path: z.object({
    id: z.coerce
      .bigint()
      .min(BigInt("-9223372036854775808"), {
        error: "Invalid value: Expected int64 to be >= -9223372036854775808",
      })
      .max(BigInt("9223372036854775807"), {
        error: "Invalid value: Expected int64 to be <= 9223372036854775807",
      }),
  }),
  query: z.optional(
    z.object({
      force: z.optional(z.enum(["true"])),
    }),
  ),
});

/**
 * Node deleted
 */
export const zDeleteNodeResponse = z.object({
  status: z.string(),
  force: z.optional(z.boolean()),
  deleted_inbounds: z.optional(z.int()),
});

export const zGetNodeData = z.object({
  body: z.optional(z.never()),
  path: z.object({
    id: z.coerce
      .bigint()
      .min(BigInt("-9223372036854775808"), {
        error: "Invalid value: Expected int64 to be >= -9223372036854775808",
      })
      .max(BigInt("9223372036854775807"), {
        error: "Invalid value: Expected int64 to be <= 9223372036854775807",
      }),
  }),
  query: z.optional(z.never()),
});

/**
 * Node detail
 */
export const zGetNodeResponse = z.object({
  data: zNode,
});

export const zUpdateNodeData = z.object({
  body: zUpdateNodeRequest,
  path: z.object({
    id: z.coerce
      .bigint()
      .min(BigInt("-9223372036854775808"), {
        error: "Invalid value: Expected int64 to be >= -9223372036854775808",
      })
      .max(BigInt("9223372036854775807"), {
        error: "Invalid value: Expected int64 to be <= 9223372036854775807",
      }),
  }),
  query: z.optional(z.never()),
});

/**
 * Updated node
 */
export const zUpdateNodeResponse = z.object({
  data: zNode,
});

export const zGetNodeHealthData = z.object({
  body: z.optional(z.never()),
  path: z.object({
    id: z.coerce
      .bigint()
      .min(BigInt("-9223372036854775808"), {
        error: "Invalid value: Expected int64 to be >= -9223372036854775808",
      })
      .max(BigInt("9223372036854775807"), {
        error: "Invalid value: Expected int64 to be <= 9223372036854775807",
      }),
  }),
  query: z.optional(z.never()),
});

/**
 * Node is healthy
 */
export const zGetNodeHealthResponse = zStatusOk;

export const zSyncNodeData = z.object({
  body: z.optional(z.never()),
  path: z.object({
    id: z.coerce
      .bigint()
      .min(BigInt("-9223372036854775808"), {
        error: "Invalid value: Expected int64 to be >= -9223372036854775808",
      })
      .max(BigInt("9223372036854775807"), {
        error: "Invalid value: Expected int64 to be <= 9223372036854775807",
      }),
  }),
  query: z.optional(z.never()),
});

/**
 * Sync successful
 */
export const zSyncNodeResponse = zStatusOk;

export const zListNodeTrafficData = z.object({
  body: z.optional(z.never()),
  path: z.object({
    id: z.coerce
      .bigint()
      .min(BigInt("-9223372036854775808"), {
        error: "Invalid value: Expected int64 to be >= -9223372036854775808",
      })
      .max(BigInt("9223372036854775807"), {
        error: "Invalid value: Expected int64 to be <= 9223372036854775807",
      }),
  }),
  query: z.optional(
    z.object({
      limit: z.optional(z.int().gte(0).lte(500)).default(50),
      offset: z.optional(z.int().gte(0)).default(0),
    }),
  ),
});

/**
 * Traffic samples
 */
export const zListNodeTrafficResponse = z.object({
  data: z.array(zNodeTrafficSample),
});

export const zGetTrafficNodesSummaryData = z.object({
  body: z.optional(z.never()),
  path: z.optional(z.never()),
  query: z.optional(
    z.object({
      window: z.optional(z.string()),
    }),
  ),
});

/**
 * Per-node traffic summary
 */
export const zGetTrafficNodesSummaryResponse = z.object({
  data: z.array(zTrafficNodeSummary),
});

export const zGetTrafficTotalSummaryData = z.object({
  body: z.optional(z.never()),
  path: z.optional(z.never()),
  query: z.optional(
    z.object({
      window: z.optional(z.string()),
    }),
  ),
});

/**
 * Total traffic summary
 */
export const zGetTrafficTotalSummaryResponse = z.object({
  data: zTrafficTotalSummary,
});

export const zGetTrafficTimeseriesData = z.object({
  body: z.optional(z.never()),
  path: z.optional(z.never()),
  query: z.optional(
    z.object({
      window: z.optional(z.string()),
      bucket: z.optional(z.enum(["minute", "hour", "day"])),
      node_id: z.optional(
        z.coerce
          .bigint()
          .min(BigInt("-9223372036854775808"), {
            error: "Invalid value: Expected int64 to be >= -9223372036854775808",
          })
          .max(BigInt("9223372036854775807"), {
            error: "Invalid value: Expected int64 to be <= 9223372036854775807",
          }),
      ),
    }),
  ),
});

/**
 * Traffic timeseries
 */
export const zGetTrafficTimeseriesResponse = z.object({
  data: z.array(zTrafficTimeseriesPoint),
});

export const zGetSystemInfoData = z.object({
  body: z.optional(z.never()),
  path: z.optional(z.never()),
  query: z.optional(z.never()),
});

/**
 * System info
 */
export const zGetSystemInfoResponse = z.object({
  data: zSystemInfo,
});

export const zGetSystemSettingsData = z.object({
  body: z.optional(z.never()),
  path: z.optional(z.never()),
  query: z.optional(z.never()),
});

/**
 * System settings
 */
export const zGetSystemSettingsResponse = z.object({
  data: zSystemSettings,
});

export const zUpdateSystemSettingsData = z.object({
  body: zUpdateSystemSettingsRequest,
  path: z.optional(z.never()),
  query: z.optional(z.never()),
});

/**
 * Updated settings
 */
export const zUpdateSystemSettingsResponse = z.object({
  data: zSystemSettings,
});

export const zListSyncJobsData = z.object({
  body: z.optional(z.never()),
  path: z.optional(z.never()),
  query: z.optional(
    z.object({
      limit: z.optional(z.int().gte(0).lte(500)).default(50),
      offset: z.optional(z.int().gte(0)).default(0),
      node_id: z.optional(
        z.coerce
          .bigint()
          .min(BigInt("-9223372036854775808"), {
            error: "Invalid value: Expected int64 to be >= -9223372036854775808",
          })
          .max(BigInt("9223372036854775807"), {
            error: "Invalid value: Expected int64 to be <= 9223372036854775807",
          }),
      ),
      status: z.optional(z.enum(["queued", "running", "success", "failed"])),
      trigger_source: z.optional(z.string()),
      from: z.optional(z.iso.datetime()),
      to: z.optional(z.iso.datetime()),
    }),
  ),
});

/**
 * Sync job list
 */
export const zListSyncJobsResponse = z.object({
  data: z.array(zSyncJobListItem),
});

export const zGetSyncJobData = z.object({
  body: z.optional(z.never()),
  path: z.object({
    id: z.coerce
      .bigint()
      .min(BigInt("-9223372036854775808"), {
        error: "Invalid value: Expected int64 to be >= -9223372036854775808",
      })
      .max(BigInt("9223372036854775807"), {
        error: "Invalid value: Expected int64 to be <= 9223372036854775807",
      }),
  }),
  query: z.optional(z.never()),
});

/**
 * Sync job detail with attempts
 */
export const zGetSyncJobResponse = z.object({
  data: zSyncJobDetail,
});

export const zRetrySyncJobData = z.object({
  body: z.optional(z.never()),
  path: z.object({
    id: z.coerce
      .bigint()
      .min(BigInt("-9223372036854775808"), {
        error: "Invalid value: Expected int64 to be >= -9223372036854775808",
      })
      .max(BigInt("9223372036854775807"), {
        error: "Invalid value: Expected int64 to be <= 9223372036854775807",
      }),
  }),
  query: z.optional(z.never()),
});

/**
 * Retry result
 */
export const zRetrySyncJobResponse = z.object({
  data: z.optional(zSyncJobListItem),
  status: z.optional(z.string()),
});

export const zListInboundsData = z.object({
  body: z.optional(z.never()),
  path: z.optional(z.never()),
  query: z.optional(
    z.object({
      limit: z.optional(z.int().gte(0).lte(500)).default(50),
      offset: z.optional(z.int().gte(0)).default(0),
      node_id: z.optional(
        z.coerce
          .bigint()
          .min(BigInt("-9223372036854775808"), {
            error: "Invalid value: Expected int64 to be >= -9223372036854775808",
          })
          .max(BigInt("9223372036854775807"), {
            error: "Invalid value: Expected int64 to be <= 9223372036854775807",
          }),
      ),
    }),
  ),
});

/**
 * Inbound list
 */
export const zListInboundsResponse = z.object({
  data: z.array(zInbound),
});

export const zCreateInboundData = z.object({
  body: zCreateInboundRequest,
  path: z.optional(z.never()),
  query: z.optional(z.never()),
});

/**
 * Inbound created with sync result
 */
export const zCreateInboundResponse = z.object({
  data: zInbound,
  sync: zSyncResult,
});

export const zDeleteInboundData = z.object({
  body: z.optional(z.never()),
  path: z.object({
    id: z.coerce
      .bigint()
      .min(BigInt("-9223372036854775808"), {
        error: "Invalid value: Expected int64 to be >= -9223372036854775808",
      })
      .max(BigInt("9223372036854775807"), {
        error: "Invalid value: Expected int64 to be <= 9223372036854775807",
      }),
  }),
  query: z.optional(z.never()),
});

/**
 * Inbound deleted with sync result
 */
export const zDeleteInboundResponse = z.object({
  status: z.string(),
  sync: zSyncResult,
});

export const zGetInboundData = z.object({
  body: z.optional(z.never()),
  path: z.object({
    id: z.coerce
      .bigint()
      .min(BigInt("-9223372036854775808"), {
        error: "Invalid value: Expected int64 to be >= -9223372036854775808",
      })
      .max(BigInt("9223372036854775807"), {
        error: "Invalid value: Expected int64 to be <= 9223372036854775807",
      }),
  }),
  query: z.optional(z.never()),
});

/**
 * Inbound detail
 */
export const zGetInboundResponse = z.object({
  data: zInbound,
});

export const zUpdateInboundData = z.object({
  body: zUpdateInboundRequest,
  path: z.object({
    id: z.coerce
      .bigint()
      .min(BigInt("-9223372036854775808"), {
        error: "Invalid value: Expected int64 to be >= -9223372036854775808",
      })
      .max(BigInt("9223372036854775807"), {
        error: "Invalid value: Expected int64 to be <= 9223372036854775807",
      }),
  }),
  query: z.optional(z.never()),
});

/**
 * Updated inbound with sync result
 */
export const zUpdateInboundResponse = z.object({
  data: zInbound,
  sync: zSyncResult,
});

export const zFormatSingBoxData = z.object({
  body: zSingBoxConfigRequest,
  path: z.optional(z.never()),
  query: z.optional(z.never()),
});

/**
 * Formatted config
 */
export const zFormatSingBoxResponse = z.object({
  data: z.object({
    formatted: z.string(),
  }),
});

export const zCheckSingBoxData = z.object({
  body: zSingBoxConfigRequest,
  path: z.optional(z.never()),
  query: z.optional(z.never()),
});

/**
 * Check result
 */
export const zCheckSingBoxResponse = z.object({
  data: z.object({
    ok: z.boolean(),
    output: z.string(),
  }),
});

export const zGenerateSingBoxData = z.object({
  body: zSingBoxGenerateRequest,
  path: z.optional(z.never()),
  query: z.optional(z.never()),
});

/**
 * Generated config
 */
export const zGenerateSingBoxResponse = z.object({
  data: z.object({
    output: z.string(),
  }),
});
